"use strict";const contactSend=document.querySelector(".contact-send"),sendPopup=document.querySelector(".modal-send"),sendClose=sendPopup.querySelector(".modal-close"),sendForm=sendPopup.querySelector(".send-form"),sendName=sendPopup.querySelector(".form-name"),sendEmail=sendPopup.querySelector(".form-email"),sendMessage=sendPopup.querySelector(".form-message");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("username")}catch(a){isStorageSupport=!1}contactSend.addEventListener("click",function(a){a.preventDefault(),sendPopup.classList.add("modal-show"),storage?(sendName.value=storage,sendEmail.focus()):sendName.focus()}),sendClose.addEventListener("click",function(a){a.preventDefault(),sendPopup.classList.remove("modal-show"),sendPopup.classList.remove("modal-error")}),sendName.addEventListener("focusout",function(a){""===a.target.value.trim()?sendName.classList.add("notValid"):sendName.classList.remove("notValid")}),sendEmail.addEventListener("focusout",function(a){""===a.target.value.trim()?sendEmail.classList.add("notValid"):sendEmail.classList.remove("notValid")}),sendMessage.addEventListener("focusout",function(a){""===a.target.value.trim()?sendMessage.classList.add("notValid"):sendMessage.classList.remove("notValid")}),sendForm.addEventListener("submit",function(a){sendName.value&&sendEmail.value&&sendMessage.value?isStorageSupport&&localStorage.setItem("username",sendName.value):(""===sendName.value.trim()&&sendName.classList.add("notValid"),""===sendEmail.value.trim()&&sendEmail.classList.add("notValid"),""===sendMessage.value.trim()&&sendMessage.classList.add("notValid"),a.preventDefault(),sendPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&sendPopup.classList.contains("modal-show")&&(a.preventDefault(),sendPopup.classList.remove("modal-show"),sendPopup.classList.remove("modal-error"))});